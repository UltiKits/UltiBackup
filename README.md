# UltiBackup

[![UltiTools Module](https://img.shields.io/badge/UltiTools-Module-blue)](https://github.com/UltiKits/UltiTools-Reborn)
[![Minecraft Version](https://img.shields.io/badge/Minecraft-1.13--1.21-green)](https://www.spigotmc.org/)
[![Java](https://img.shields.io/badge/Java-8+-orange)](https://www.oracle.com/java/)

**UltiBackup** æ˜¯ UltiTools-API æ¡†æ¶çš„ä¸€ä¸ªæ’ä»¶æ¨¡å—ï¼Œä¸º Minecraft æœåŠ¡å™¨æä¾›ç©å®¶èƒŒåŒ…å¤‡ä»½ä¸æ¢å¤åŠŸèƒ½ã€‚æ”¯æŒè‡ªåŠ¨å¤‡ä»½ã€æ‰‹åŠ¨å¤‡ä»½ã€GUI ç®¡ç†å’Œæ•°æ®å®Œæ•´æ€§æ ¡éªŒã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- ğŸ’¾ **å®Œæ•´å¤‡ä»½** - å¤‡ä»½èƒŒåŒ…ã€è£…å¤‡ã€å‰¯æ‰‹ã€æœ«å½±ç®±ã€ç»éªŒå€¼å’Œä½ç½®ä¿¡æ¯
- ğŸ”„ **ä¸€é”®æ¢å¤** - é€šè¿‡ GUI æˆ–å‘½ä»¤å¿«é€Ÿæ¢å¤ä»»æ„å¤‡ä»½
- ğŸ” **å¤‡ä»½é¢„è§ˆ** - æ¢å¤å‰é¢„è§ˆå¤‡ä»½å†…å®¹ï¼ˆèƒŒåŒ…/è£…å¤‡/æœ«å½±ç®±åˆ†é¡µæŸ¥çœ‹ï¼‰
- ğŸ›¡ï¸ **æ•°æ®æ ¡éªŒ** - MD5 æ ¡éªŒå’ŒéªŒè¯ï¼Œæ£€æµ‹æ–‡ä»¶æŸåæˆ–ç¯¡æ”¹

### è‡ªåŠ¨å¤‡ä»½

- â±ï¸ **å®šæ—¶å¤‡ä»½** - å¯é…ç½®çš„è‡ªåŠ¨å¤‡ä»½é—´éš”ï¼ˆé»˜è®¤ 30 åˆ†é’Ÿï¼‰
- ğŸ’€ **æ­»äº¡å¤‡ä»½** - ç©å®¶æ­»äº¡æ—¶è‡ªåŠ¨å¤‡ä»½ï¼ˆå¯å¼€å…³ï¼‰
- ğŸšª **é€€å‡ºå¤‡ä»½** - ç©å®¶ç¦»çº¿æ—¶è‡ªåŠ¨å¤‡ä»½ï¼ˆå¯å¼€å…³ï¼‰
- ğŸ“¦ **æ‰¹é‡å¤‡ä»½** - ç®¡ç†å‘˜ä¸€é”®å¤‡ä»½æ‰€æœ‰åœ¨çº¿ç©å®¶

### æ•°æ®ç®¡ç†

- ğŸ“Š **å¤‡ä»½ä¸Šé™** - æ¯ä¸ªç©å®¶æœ€å¤šä¿ç•™ N ä¸ªå¤‡ä»½ï¼ˆè‡ªåŠ¨æ¸…ç†æ—§å¤‡ä»½ï¼‰
- ğŸ—‘ï¸ **åˆ é™¤å¤‡ä»½** - æ”¯æŒæ‰‹åŠ¨åˆ é™¤ä¸éœ€è¦çš„å¤‡ä»½
- ğŸ”“ **å¼ºåˆ¶æ¢å¤** - å¯¹æŸåçš„å¤‡ä»½æä¾›å¼ºåˆ¶æ¢å¤é€‰é¡¹ï¼ˆå¸¦ç¡®è®¤æç¤ºï¼‰

### ç”¨æˆ·ä½“éªŒ
- ğŸ–¥ï¸ **äº¤äº’å¼ GUI** - ç¾è§‚çš„å¤‡ä»½ç®¡ç†ç•Œé¢ï¼Œæ”¯æŒåˆ†é¡µæµè§ˆ
- â³ **æ“ä½œå†·å´** - é˜²æ­¢æ»¥ç”¨çš„å‘½ä»¤å†·å´æœºåˆ¶
- ğŸŒ **å¤šè¯­è¨€æ”¯æŒ** - å†…ç½®ä¸­æ–‡å’Œè‹±æ–‡æ”¯æŒ

## ğŸ“¦ å®‰è£…

### ä¾èµ–é¡¹
- **UltiTools-API 6.2.0+** - æ ¸å¿ƒæ¡†æ¶

### å®‰è£…æ­¥éª¤
1. ç¡®ä¿å·²å®‰è£… UltiTools-API
2. å°† `UltiBackup.jar` æ”¾å…¥ `plugins/UltiTools/plugins/` ç›®å½•
3. é‡å¯æœåŠ¡å™¨æˆ–æ‰§è¡Œ `/ultitools reload`
4. ç¼–è¾‘é…ç½®æ–‡ä»¶ `plugins/UltiTools/UltiBackup/config/backup.yml`

## âš™ï¸ é…ç½®è¯´æ˜

### backup.yml

```yaml
# è‡ªåŠ¨å¤‡ä»½é…ç½®
auto_backup:
  enabled: true                # æ˜¯å¦å¯ç”¨è‡ªåŠ¨å¤‡ä»½
  interval: 30                 # è‡ªåŠ¨å¤‡ä»½é—´éš”ï¼ˆåˆ†é’Ÿï¼‰
  on_death: true               # ç©å®¶æ­»äº¡æ—¶å¤‡ä»½
  on_quit: true                # ç©å®¶é€€å‡ºæ—¶å¤‡ä»½

# å¤‡ä»½ä¸Šé™
max_backups_per_player: 10     # æ¯ä¸ªç©å®¶æœ€å¤šä¿ç•™çš„å¤‡ä»½æ•°é‡

# å¤‡ä»½å†…å®¹é…ç½®
backup_armor: true             # æ˜¯å¦å¤‡ä»½è£…å¤‡
backup_enderchest: true        # æ˜¯å¦å¤‡ä»½æœ«å½±ç®±
backup_exp: true               # æ˜¯å¦å¤‡ä»½ç»éªŒå€¼
```

## ğŸ“œ å‘½ä»¤

### ç©å®¶å‘½ä»¤

| å‘½ä»¤ | æè¿° | æƒé™ |
|------|------|------|
| `/backup` | æ‰“å¼€å¤‡ä»½ç®¡ç† GUI | `ultibackup.use` |
| `/backup list` | åˆ—å‡ºæˆ‘çš„å¤‡ä»½ï¼ˆæœ€å¤šæ˜¾ç¤º 5 ä¸ªï¼‰ | `ultibackup.use` |
| `/backup create` | åˆ›å»ºæ‰‹åŠ¨å¤‡ä»½ | `ultibackup.create` |
| `/backup restore <ç¼–å·>` | æ¢å¤æŒ‡å®šç¼–å·çš„å¤‡ä»½ | `ultibackup.use` |
| `/backup restore <ç¼–å·> force` | å¼ºåˆ¶æ¢å¤æŸåçš„å¤‡ä»½ | `ultibackup.use` |
| `/backup help` | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ | `ultibackup.use` |

### ç®¡ç†å‘˜å‘½ä»¤

| å‘½ä»¤ | æè¿° | æƒé™ |
|------|------|------|
| `/backup saveall` | å¤‡ä»½æ‰€æœ‰åœ¨çº¿ç©å®¶ | `ultibackup.admin` |
| `/backup admin <ç©å®¶>` | æŸ¥çœ‹æŒ‡å®šç©å®¶çš„å¤‡ä»½ | `ultibackup.admin` |
| `/backup admin create <ç©å®¶>` | ä¸ºæŒ‡å®šç©å®¶åˆ›å»ºå¤‡ä»½ | `ultibackup.admin` |

### å‘½ä»¤åˆ«å

- `/backup`, `/invbackup`, `/bk`

## ğŸ”‘ æƒé™èŠ‚ç‚¹

### ç©å®¶æƒé™

| æƒé™ | æè¿° | é»˜è®¤ |
|------|------|------|
| `ultibackup.use` | ä½¿ç”¨å¤‡ä»½åŠŸèƒ½ | true |
| `ultibackup.create` | åˆ›å»ºæ‰‹åŠ¨å¤‡ä»½ | true |
| `ultibackup.delete` | åˆ é™¤å¤‡ä»½ | true |
| `ultibackup.auto` | äº«å—è‡ªåŠ¨å¤‡ä»½ | true |

### ç®¡ç†å‘˜æƒé™

| æƒé™ | æè¿° | é»˜è®¤ |
|------|------|------|
| `ultibackup.admin` | ç®¡ç†å‘˜æƒé™ï¼ˆæŸ¥çœ‹/åˆ›å»ºä»–äººå¤‡ä»½ï¼‰ | op |

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### é¡¹ç›®ç»“æ„

```
com.ultikits.plugins.backup/
â”œâ”€â”€ UltiBackup.java             # æ’ä»¶ä¸»ç±»
â”œâ”€â”€ commands/
â”‚   â””â”€â”€ BackupCommand.java      # å‘½ä»¤æ‰§è¡Œå™¨
â”œâ”€â”€ config/
â”‚   â””â”€â”€ BackupConfig.java       # é…ç½®ç±»
â”œâ”€â”€ entity/
â”‚   â”œâ”€â”€ BackupMetadata.java     # å¤‡ä»½å…ƒæ•°æ®ï¼ˆæ•°æ®åº“ï¼‰
â”‚   â””â”€â”€ BackupContent.java      # å¤‡ä»½å†…å®¹ï¼ˆæ–‡ä»¶ï¼‰
â”œâ”€â”€ gui/
â”‚   â”œâ”€â”€ BackupGUI.java          # å¤‡ä»½åˆ—è¡¨ GUI
â”‚   â”œâ”€â”€ BackupPreviewGUI.java   # å¤‡ä»½é¢„è§ˆ GUI
â”‚   â””â”€â”€ ForceRestoreConfirmPage.java  # å¼ºåˆ¶æ¢å¤ç¡®è®¤é¡µ
â”œâ”€â”€ listener/
â”‚   â””â”€â”€ BackupListener.java     # äº‹ä»¶ç›‘å¬å™¨
â””â”€â”€ service/
    â””â”€â”€ BackupService.java      # å¤‡ä»½æœåŠ¡
```

### å†·çƒ­æ•°æ®åˆ†ç¦»

UltiBackup é‡‡ç”¨å†·çƒ­æ•°æ®åˆ†ç¦»æ¶æ„ï¼Œä¼˜åŒ–å­˜å‚¨æ€§èƒ½ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     å¤‡ä»½æ•°æ®å­˜å‚¨æ¶æ„                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  çƒ­æ•°æ® (HOT) - æ•°æ®åº“å­˜å‚¨                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ BackupMetadata                          â”‚               â”‚
â”‚  â”‚ - UUIDã€ç©å®¶åã€æ—¶é—´æˆ³                    â”‚               â”‚
â”‚  â”‚ - æ–‡ä»¶è·¯å¾„ã€MD5 æ ¡éªŒå’Œ                    â”‚               â”‚
â”‚  â”‚ - ä½ç½®ä¿¡æ¯ã€ç»éªŒç­‰çº§                      â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                             â”‚
â”‚  å†·æ•°æ® (COLD) - æ–‡ä»¶å­˜å‚¨                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ YAML æ–‡ä»¶ (backups/{uuid}_{time}.yml)   â”‚               â”‚
â”‚  â”‚ - åºåˆ—åŒ–çš„ç‰©å“æ•°ç»„                        â”‚               â”‚
â”‚  â”‚ - è£…å¤‡ã€å‰¯æ‰‹ã€æœ«å½±ç®±å†…å®¹                  â”‚               â”‚
â”‚  â”‚ - ç»éªŒæ•°æ®                               â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®å®Œæ•´æ€§æ ¡éªŒ

æ¯ä¸ªå¤‡ä»½æ–‡ä»¶åŒ…å« MD5 æ ¡éªŒå’Œï¼š

```yaml
# !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
# DO NOT MODIFY THIS FILE! è¯·å‹¿ä¿®æ”¹æ­¤æ–‡ä»¶ï¼
# Checksum: abc123def456...
#
inventory: ...
armor: ...
offhand: ...
enderchest: ...
expLevel: 30
expProgress: 0.85
```

æ¢å¤æ—¶è‡ªåŠ¨éªŒè¯æ ¡éªŒå’Œï¼Œæ£€æµ‹åˆ°ä¸åŒ¹é…æ—¶æç¤ºç”¨æˆ·é€‰æ‹©å¼ºåˆ¶æ¢å¤ã€‚

## ğŸ–¼ï¸ GUI é¢„è§ˆ

### å¤‡ä»½åˆ—è¡¨

- åˆ†é¡µæ˜¾ç¤ºæ‰€æœ‰å¤‡ä»½ï¼ˆæ¯é¡µ 45 ä¸ªï¼‰
- å·¦é”®ç‚¹å‡»æ¢å¤ï¼Œå³é”®ç‚¹å‡»åˆ é™¤
- æ˜¾ç¤ºå¤‡ä»½æ—¶é—´ã€åŸå› ã€ä½ç½®ä¿¡æ¯

### å¤‡ä»½é¢„è§ˆ

- ä¸‰ä¸ªæ ‡ç­¾é¡µï¼šèƒŒåŒ… / è£…å¤‡ / æœ«å½±ç®±
- åªè¯»æ¨¡å¼ï¼Œä¸å¯ä¿®æ”¹
- æ¸…æ™°å±•ç¤ºå¤‡ä»½å†…å®¹

### å¼ºåˆ¶æ¢å¤ç¡®è®¤

- æ ¡éªŒå¤±è´¥æ—¶æ˜¾ç¤ºè­¦å‘Š
- éœ€è¦äºŒæ¬¡ç¡®è®¤æ‰èƒ½å¼ºåˆ¶æ¢å¤

## ğŸ“Š å¤‡ä»½åŸå› 

| åŸå›  | è§¦å‘æ¡ä»¶ |
|------|---------|
| `MANUAL` | ç©å®¶æ‰‹åŠ¨åˆ›å»º |
| `AUTO` | å®šæ—¶è‡ªåŠ¨å¤‡ä»½ |
| `DEATH` | ç©å®¶æ­»äº¡è§¦å‘ |
| `QUIT` | ç©å®¶é€€å‡ºè§¦å‘ |
| `ADMIN` | ç®¡ç†å‘˜åˆ›å»º |

## ğŸŒ å¤šè¯­è¨€

æ”¯æŒçš„è¯­è¨€ï¼š

- ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡ (zh)
- ğŸ‡ºğŸ‡¸ English (en)

è¯­è¨€æ–‡ä»¶ä½ç½®ï¼š`plugins/UltiTools/UltiBackup/lang/`

æ·»åŠ æ–°è¯­è¨€ï¼šåˆ›å»º `{è¯­è¨€ä»£ç }.yml` æ–‡ä»¶å¹¶ç¿»è¯‘æ‰€æœ‰é”®å€¼ã€‚

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0

- ğŸ‰ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ¨ å®Œæ•´çš„èƒŒåŒ…å¤‡ä»½åŠŸèƒ½
- âœ¨ è‡ªåŠ¨å¤‡ä»½ï¼ˆå®šæ—¶/æ­»äº¡/é€€å‡ºï¼‰
- âœ¨ GUI ç®¡ç†ç•Œé¢
- âœ¨ MD5 æ•°æ®æ ¡éªŒ
- âœ¨ å¤‡ä»½é¢„è§ˆåŠŸèƒ½
- âœ¨ ç®¡ç†å‘˜å‘½ä»¤

## â“ FAQ

**Q: å¤‡ä»½æ–‡ä»¶å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ**
> å¤‡ä»½æ–‡ä»¶å­˜å‚¨åœ¨ `plugins/UltiTools/UltiBackup/backups/` ç›®å½•ï¼Œå…ƒæ•°æ®å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚

**Q: å¦‚ä½•æ‰‹åŠ¨å¤‡ä»½æ•°æ®ï¼Ÿ**
> - å¤‡ä»½ `backups/` ç›®å½•ä¸‹çš„æ‰€æœ‰ YAML æ–‡ä»¶
> - åŒæ—¶å¤‡ä»½æ•°æ®åº“ä¸­çš„ `ulti_backup_metadata` è¡¨

**Q: ä¸ºä»€ä¹ˆæ¢å¤æ—¶æç¤ºæ ¡éªŒå¤±è´¥ï¼Ÿ**
> å¤‡ä»½æ–‡ä»¶è¢«æ‰‹åŠ¨ä¿®æ”¹æˆ–æŸåã€‚å¦‚æœç¡®è®¤å†…å®¹æ— è¯¯ï¼Œå¯ä»¥ä½¿ç”¨ `force` å‚æ•°å¼ºåˆ¶æ¢å¤ã€‚

**Q: å¦‚ä½•å¢åŠ æ¯ä¸ªç©å®¶çš„å¤‡ä»½ä¸Šé™ï¼Ÿ**
> ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ `max_backups_per_player` å€¼ã€‚

**Q: è‡ªåŠ¨å¤‡ä»½ä¼šå½±å“æœåŠ¡å™¨æ€§èƒ½å—ï¼Ÿ**
> å¤‡ä»½æ“ä½œä½¿ç”¨å¼‚æ­¥æ‰§è¡Œï¼Œå¯¹æœåŠ¡å™¨æ€§èƒ½å½±å“å¾ˆå°ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

- GitHub: [UltiKits/UltiTools-Reborn](https://github.com/UltiKits/UltiTools-Reborn)
- é—®é¢˜åé¦ˆ: [Issues](https://github.com/UltiKits/UltiTools-Reborn/issues)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚

---

## Made with Love by UltiKits Team
